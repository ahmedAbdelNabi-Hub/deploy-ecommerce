import{a as r,c as B}from"./chunk-MDAXNIY5.js";import{c as E,d as I,f as d,i as y}from"./chunk-5IC5DNT2.js";import{$ as f,A,B as u,Ba as x,D as a,Da as M,G as n,I as P,O as w,U as O,a as S,aa as h,b as $,cb as H,da as R,db as D,ea as j,fa as k,h as p,ha as g,ja as o,ka as l,la as b,p as c,pb as m,x as v}from"./chunk-VKIXFHP4.js";var L=class s{constructor(e){this.http=e}isStatusPopupVisible=new $(!1);isStatusPopupVisible$=this.isStatusPopupVisible.asObservable();productIdIsAssginTheStatus;getStatuses(){return this.http.get(r.Localhost+""+r.Status+"GetAllStatuses")}getProductWithStatus(e){let t=`${r.Localhost}${r.Status}GetProductsByStatus?StatusId=${encodeURIComponent(e.StatusId||"")}&CategoryName=${encodeURIComponent(e.CategoryName||"")}&PageIndex=${encodeURIComponent(e.PageIndex||"")}&PageSize=${encodeURIComponent(e.PageSize||"")}`;return this.http.get(t)}showStatusPopup(e){this.isStatusPopupVisible.next(!0),this.productIdIsAssginTheStatus=e}AssignStatus(e){let t={productId:this.productIdIsAssginTheStatus,statusId:e,changedBy:"admin"};return this.http.post(`${r.Localhost}${r.Status}AssignStatus`,t)}deleteStatus(e,t){let i=`${r.Localhost}${r.Status}DeleteProductStatus/${e}/${t}`;return this.http.delete(i)}hiddenStatusPopup(){this.isStatusPopupVisible.next(!1),this.productIdIsAssginTheStatus=null}static \u0275fac=function(t){return new(t||s)(n(m))};static \u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})};var N=class s{constructor(e){this._Http=e}Categories=null;getAllCategories(){return this._Http.get(r.Localhost+r.category+"GetAllCategorys").pipe(u(e=>{e!=null&&(this.Categories=e,console.log(e))}),c(e=>p([])))}static \u0275fac=function(t){return new(t||s)(n(m))};static \u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})};var Q=class s{constructor(e){this.http=e}advertisementCache$=null;activeAdvertisementCache$=null;getAdvertisements(){return this.advertisementCache$||(this.advertisementCache$=this.http.get(`${r.Localhost}${r.advertisement}`).pipe(v(1),c(e=>(this.advertisementCache$=null,p([]))))),this.advertisementCache$}getActiveAdvertisements(){return this.activeAdvertisementCache$||(this.activeAdvertisementCache$=this.http.get(`${r.Localhost}${r.advertisement}?isActive=true`).pipe(v(1),c(e=>(this.activeAdvertisementCache$=null,p([]))))),this.activeAdvertisementCache$}createAd(e){return this.http.post("https://localhost:7197/api/Advertisement/create",e).pipe(u(()=>this.clearCache()))}toggleStatusAdvertisement(e){return this.http.patch(`https://localhost:7197${r.advertisement}/toggle-status/${e}`,{})}clearCache(){this.advertisementCache$=null,this.activeAdvertisementCache$=null}static \u0275fac=function(t){return new(t||s)(n(m))};static \u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})};var U=E("transformAnimation",[y(":enter",[d({opacity:0,transform:"translateY(100%) scale(0.8)"}),I("0.2s ease-out",d({opacity:1,transform:"translateY(0) scale(1)"}))]),y(":leave",[d({opacity:1,transform:"translateX(0) scale(1)"}),I("0.2s ease-in",d({opacity:0,transform:"translateX(100%) scale(0.8)"}))])]);function T(s,e){if(s&1&&(o(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),b(4,"i",6),l(),o(5,"div",7)(6,"p",8),x(7),l()(),o(8,"div")(9,"button",9)(10,"span",10),x(11,"Dismiss"),l(),w(),o(12,"svg",11),b(13,"path",12)(14,"path",13),l()()()()()()),s&2){let t=e.$implicit;g("@transformAnimation",void 0),f(4),g("ngClass",t.type==="success"?"bx bx-check text-2xl text-green-400":t.type==="error"?"bx bx-x text-2xl text-red-400":t.type==="warning"?"bx bx-error text-2xl text-yellow-400":"bx bx-info-circle text-2xl text-blue-400"),f(3),M(" ",t.message," ")}}var z=class s{constructor(e,t,i){this.messageService=e;this.renderer=t;this.el=i}destroy$=new S;messageQueue=j([]);hidden=!1;ngOnInit(){this.messageService.message$.pipe(A(this.destroy$)).subscribe(({message:e,type:t})=>{let i=this.messageQueue();this.messageQueue.set([...i,{message:e,type:t}]),i.length===0&&(this.hidden=!0,this.showNextMessage())})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}showNextMessage(){if(this.messageQueue().length===0){this.hidden=!1;return}setTimeout(()=>{let e=[...this.messageQueue()];e.shift(),this.messageQueue.set(e),this.showNextMessage()},9e3)}static \u0275fac=function(t){return new(t||s)(h(B),h(R),h(O))};static \u0275cmp=P({type:s,selectors:[["app-message-handler"]],decls:2,vars:1,consts:[[1,"fixed","top-8","end-0","flex-col","py-4","px-8","flex","items-center","justify-center","z-[100]"],["class"," z-[80] sm:max-w-sm w-full mx-auto p-2",4,"ngFor","ngForOf"],[1,"z-[80]","sm:max-w-sm","w-full","mx-auto","p-2"],[1,"p-4","bg-white","border","border-gray-200","rounded-xl","shadow-sm"],[1,"flex","gap-x-4","items-center"],[1,"flex","items-center","justify-center","px-1","bg-[#f8f7f7]","rounded-full","border","border-gray-100"],[3,"ngClass"],[1,"grow"],[1,"text-sm","font-semibold","text-gray-800"],["type","button","data-hs-remove-element","#cookies-simple-with-icon-and-dismiss-button",1,"p-2","inline-flex","items-center","gap-x-2","text-sm","font-semibold","rounded-full","border","border-transparent","text-gray-500","hover:bg-gray-50","focus:outline-none","focus:bg-gray-50","disabled:opacity-50","disabled:pointer-events-none"],[1,"sr-only"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"shrink-0","size-4"],["d","M18 6 6 18"],["d","m6 6 12 12"]],template:function(t,i){t&1&&(o(0,"div",0),k(1,T,15,3,"div",1),l()),t&2&&(f(),g("ngForOf",i.messageQueue()))},dependencies:[H,D],styles:[".message[_ngcontent-%COMP%]{font-size:16px;max-width:500px;margin:0;text-align:center;z-index:1000;box-shadow:0 4px 6px #0000001a}.success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.error[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.blur-glass[_ngcontent-%COMP%]{backdrop-filter:blur(7.3px);-webkit-backdrop-filter:blur(7.3px);background:#fff3;transition:color .3s ease,background .3s ease}.max-bland[_ngcontent-%COMP%]{mix-blend-mode:difference}"],data:{animation:[U]},changeDetection:0})};export{L as a,N as b,Q as c,U as d,z as e};
